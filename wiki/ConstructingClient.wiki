#summary How to construct a new Client instance

<wiki:toc/>

== Constructing a Client ==

Firstly, you will need is the URL of your SCEP server:

{{{
URL server = new URL("http://pki.example.org:8080/scep/pkiclient.exe");
}}}

Next, you will need an RSA private key and X509 certificate to represent your SCEP client.  The private key is used to sign SCEP messages.  The certificate is used by the server for verifying the signature on your SCEP messages, and for encrypting its responses.

{{{
PrivateKey priKey = ...;
X509Certificate cert = ...;
}}}

Next, you'll need a callback handler.  The handler is used for verifying the identity of the CA represented by the SCEP server.

{{{
CallbackHandler handler = ...;
}}}

We now have all we need to create a SCEP client:

{{{
Client client = new Client(server, cert, priKey, handler);
}}}

If your SCEP server supports multiple identities, you can provide the name of the identity as a String:

{{{
String profile = "PublicCA";
}}}

You can then used the overloaded constructor to provide this profile name:

{{{
Client client = new Client(server, cert, priKey, handler, profile);
}}}

== Using the Client ==

The SCEP client supports three main operations:

  # Enrolment
  # Certificate Retrieval
  # Certificate Revocation List Retrieval

Plus a further three supporting operations:

  # CA Certificate Retrieval
  # Rollover CA Certificate Retrieval
  # Listing Server Capabilities